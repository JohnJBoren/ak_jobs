<!DOCTYPE html>
<html>
<head><link rel="stylesheet" href="style.css"><link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet"></head>
<header>
    <h1>Alaska Monthly Employment Statistics by Region</h1>
</header>
<main>
<div class="card">
  <h1>Select an Alaska Economic Region</h1>
  <select id="myselect" onchange="fetchJSON(this.value)">
    <option value="">Choose an option:</option>
    <option value="Alaska.json">Alaska</option>
    <option value="MuniAnchorage.json">Muni of Anchorage</option>
    <option value="Interior.json">Interior</option>
    <option value="Southeast.json">Southeast</option>
    <option value="Southwest.json">Southwest</option>
    <option value="Northern.json">Northern</option>
    <option value="GulfCoast.json">Gulf Coast</option>
  </select>
  <div id="myData"></div>
    <script>
        var mainContainer = document.getElementById("myData");
        async function fetchJSON(region) {
          fetch(region)
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        }
        function appendData(data) {
            mainContainer.innerHTML = "";
            for (var j = 0; j < 22; j++) {
              var header = document.createElement("h1");
              if ( data[j][1] != undefined) {
                header.innerHTML = data[j][1][0];

                mainContainer.appendChild(header);
                for (var i = 2; i < 14; i++) {
                    var table = document.createElement("tr");
                    if (data[j][i] != undefined) {
                      table.innerHTML = `<td>${data[j][i][0]}</td>&emsp;<td>${data[j][i][1]}</td>&emsp;<td>${data[j][i][2]}</td>&emsp;
                                                      <td>${data[j][i][3]}</td>&emsp;<td>${data[j][i][4]}</td>&emsp;<td>${data[j][i][5]}</td>&emsp;
                                                      <td>${data[j][i][6]}</td>&emsp;<td>${data[j][i][7]}</td>&emsp;<td>${data[j][i][8]}</td>&emsp;
                                                      <td>${data[j][i][9]}</td>&emsp;<td>${data[j][i][10]}</td>&emsp;<td>${data[j][i][11]}</td>&emsp;<td>${data[j][i][12]}</td>&emsp;<td>${data[j][i][13]}</td>`;
                      mainContainer.appendChild(table);
                    }
                }
              }
            }
        }
    </script>
</div>
</main>
<footer>2021</footer>
</html>